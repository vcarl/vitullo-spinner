module.exports=function(){"use strict";var a=require("react"),b=a.createClass({displayName:"Spinner",interval:null,propTypes:{spinnerTimeout:a.PropTypes.number,messageTimeout:a.PropTypes.number,message:a.PropTypes.string,height:a.PropTypes.string},tickLen:500,getInitialState:function(){return{elapsed:0}},getDefaultProps:function(){return{spinnerTimeout:1,messageTimeout:5,message:"This is taking longer than usual. Maybe check your connection?",height:"100px"}},tick:function(){this.setState({elapsed:this.state.elapsed+1})},stopTick:function(){clearInterval(this.interval),this.interval=null},startTick:function(){null===this.interval&&(this.setState({elapsed:0}),this.interval=setInterval(this.tick,this.tickLen))},componentWillUpdate:function(a){(this.props.loaded===!1||a.loaded===!1)&&this.startTick()},componentWillUnmount:function(){this.stopTick()},render:function(){var b="";return this.props.loaded===!1?this.state.elapsed*(this.tickLen/1e3)>=this.props.spinnerTimeout?(this.state.elapsed*(this.tickLen/1e3)>=this.props.messageTimeout&&(b=a.createElement("span",null,this.props.message)),a.createElement("div",{className:"scrim",style:{height:this.props.height}},b,a.createElement("div",{"data-spinner":this.props.name,className:"spinner"},a.createElement("div",null)))):null:(this.stopTick(),this.props.children)}});return b.Mixin={addSpinners:function(a){var b;b={},"string"==typeof a?b[a]=!0:Array.isArray(a)&&a.forEach(function(a){b[a]=!0}),this.setState({spinners:b})},getSpinner:function(a){if("undefined"==typeof this.state.spinners[a])throw new Error("Can't get spinner \""+a+'", does not exist.');return this.state.spinners[a]},startSpinner:function(a){if("undefined"==typeof this.state.spinners[a])throw new Error("Can't start spinner \""+a+'", does not exist.');var b=this.state.spinners;b[a]=!1,this.setState({spinners:b})},stopSpinner:function(a){if("undefined"==typeof this.state.spinners[a])throw new Error("Can't stop spinner \""+a+'", does not exist.');var b=this.state.spinners;b[a]=!0,this.setState({spinners:b})}},b}();